family = "Arial", size = 4, color = "deepskyblue")+
labs(
title = "Mean Income vs Continuum Code in Massachusetts (1992 Cohort)",
subtitle = "Children from 25th Parental Income Percentile"
) +
theme(
plot.title = element_text(size = 14, family = "Arial", hjust = 0.5, vjust = 0.5),
plot.subtitle = element_text(size = 11, family = "Arial", hjust = 0.5, vjust = 1),
text = element_text(family = "Arial")
)
ggplot(data = dataP25%>%filter(state==25, cohort==1992, continuum_code<6), aes(x=continuum_code, y=mean_indiv_income, col=as.factor(county_name)))+
geom_point()+geom_smooth(method=lm, aes(group = 1))+scale_x_continuous(breaks=seq(0, 9, by=1))+
labs(
title = "Mean Income vs Continuum Code in Massachusetts (1992 Cohort)",
subtitle = "Children from 25th Parental Income Percentile \n(Without Martha's Vineyard and Nantucket)"
) +
theme(
plot.title = element_text(size = 14, family = "Arial", hjust = 0.5, vjust = 0.5),
plot.subtitle = element_text(size = 11, family = "Arial", hjust = 0.5, vjust = 1),
text = element_text(family = "Arial")
)
dataMass92 <- dataP25%>%filter(state==25, cohort==1992)
dataMass92F <- dataP25%>%filter(state==25, cohort==1992, continuum_code<6)
mass92Lm <- lm(mean_indiv_income ~ continuum_code + race + gender, data=dataMass92)
summary(mass92Lm)
confint(mass92Lm, level = 0.95)
mass92FLm <- lm(mean_indiv_income ~ continuum_code + race + gender, data=dataMass92F)
summary(mass92FLm)
confint(mass92FLm, level = 0.95)
#Income Maps
data1.15 <- data1.0 %>% filter(percentile == "25")
data1.15 <- data1.0 %>% filter(cohort == "1992")
data1.2 <- data1.15 %>% filter('FIPS Code' !=38025)
data1.2 <- data1.2 %>% filter('FIPS Code' !=36037)
FIPSincome <- data1.2 %>% select('FIPS Code', mean_indiv_income)
FIPSincome <- data1.2 %>% rename(fips = 'FIPS Code')
FIPSincome <- na.omit(FIPSincome)
FIPSincome <- FIPSincome %>%
group_by(fips) %>%
summarize(values = mean(mean_indiv_income, na.rm = TRUE))
plot_usmap(data=FIPSincome, include="MA") +
scale_fill_continuous(
low = "white", high = "red", name = "Income", label = scales::comma
) + theme(legend.position = "right")+
ggtitle("Mean Individual Income of 1992 Cohort in Massachussets Counties")
#Rurality Maps
FIPSrural <- data1.2 %>% select('FIPS Code', continuum_code)
FIPSrural <- data1.2 %>% rename(fips = 'FIPS Code')
FIPSrural <- na.omit(FIPSrural)
FIPSrural <- FIPSrural %>%
group_by(fips) %>%
summarize(values = mean(continuum_code, na.rm = TRUE))
plot_usmap(data=FIPSrural, include="MA") +
scale_fill_continuous(
low = "yellow", high = "darkgreen", name = "RUCC", label = scales::comma
) + theme(legend.position = "right")+
ggtitle("Rurality of 1992 Massachussets Counties")
setwd("C:/Users/mcpro/OneDrive/Documents/WAVE LAB/Code/shadows_3afc/tools")
gc()
library(tidyverse)
table <- read.csv("data/dataframe_answer.csv", header = TRUE)
table <- table |> mutate(chosen_object = str_remove_all(chosen_image,"^obj|_sha.*"))
table <- table |> mutate(consistent_object = chosen_object == target_object)
table <- table |> mutate(consistent_shadow = chosen_object == target_shadow)
table <- table |> mutate(all_object = consistent_object & consistent_shadow)
table <- table |> mutate(neither = (chosen_object != target_object) & (chosen_object != target_shadow))
table |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Object Memory Responses",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
sum(table$consistent_object)
sum(table$consistent_shadow)
sum(table$all_object)
sum(table$neither)
new_table = filter(table, calced_stim_duration_rounded == 500)
View(new_table)
new_table = filter(table, calced_stim_duration_rounded)
table_500 = filter(table, calced_stim_duration_rounded == 500)
table_700 = filter(table, calced_stim_duration_rounded == 700)
table_900 = filter(table, calced_stim_duration_rounded != 500 & calced_stim_duration_rounded != 700)
View(table_500)
View(table_700)
View(table_900)
getwd()
setwd("C:/Users/mcpro/OneDrive/Documents/WAVE LAB/lab_325")
getwd()
setwd("C:/Users/mcpro/OneDrive/Documents/WAVE LAB/lab_325")
getwd()
setwd("C:/Users/mcpro/OneDrive/Documents/WAVE LAB/Code/shadows_3afc/tools")
getwd()
ggplot(table, aes(x = as.factor(calced_stim_duration_rounded), fill = as.factor(calced_stim_duration_rounded))) +
geom_bar() +
labs(
title = "Count of Records per Category",
x = "Category",
y = "Number of Records",
fill = "Category"
) +
theme_minimal()
table |>
filter(table, calced_stim_duration_rounded == 500) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Object Memory Responses",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
if_any(table, calced_stim_duration_rounded == 500) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Object Memory Responses",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
group_by(table, calced_stim_duration_rounded == 500) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Object Memory Responses",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
filter(calced_stim_duration_rounded == 500) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Object Memory Responses",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>a
table |>
filter(calced_stim_duration_rounded == 500) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Responses When Stim = 500ms",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
filter(calced_stim_duration_rounded == 700) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Responses When Stim = 700ms",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
filter(calced_stim_duration_rounded != 500 & calced_stim_duration_rounded != 700) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Responses When Stim = 500ms",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
ggplot(table, aes(x = as.factor(calced_stim_duration_rounded), fill = as.factor(calced_stim_duration_rounded))) +
geom_bar() +
labs(
title = "Count of Records per Category",
x = "Category",
y = "Number of Records",
fill = "Category"
) +
theme_minimal()
ggplot(table, aes(x = as.factor(calced_stim_duration_rounded), fill = as.factor(calced_stim_duration_rounded))) +
geom_bar() +
labs(
title = "Count of Records per Category",
x = "Category",
y = "Number of Records",
fill = "Category"
) +
theme_minimal()
table |>
pivot_longer( #join columns
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Response_Type",
values_to = "Status"
) |>
filter(Status == TRUE) |> #count true values
#merge with as factor logic for timing
ggplot(aes(x = as.factor(calced_stim_duration_rounded), fill = Response_Type)) +
geom_bar(position = "stack") +
scale_fill_discrete(
labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)
) +
labs(
title = "Responses by Stimulus Duration",
x = "Duration (ms)",
y = "Count",
fill = "Response Type"
) +
theme_minimal()
table |>
filter(calced_stim_duration_rounded == 500) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Responses When Stim = 500ms",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
filter(calced_stim_duration_rounded == 700) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Responses When Stim = 700ms",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
filter(calced_stim_duration_rounded != 500 & calced_stim_duration_rounded != 700) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Responses When Stim = 500ms",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
filter(calced_stim_duration_rounded != 500 & calced_stim_duration_rounded != 700) |>
pivot_longer(
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Category",
values_to = "Status"
) |>
filter(Status == TRUE) |>
ggplot(aes(x = Category, fill = Category)) +
geom_bar() +
scale_x_discrete(labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)) +
scale_fill_discrete(
labels = c("neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow")
) +
labs(
title = "Responses When Stim = 900ms",
y = "Count"
) +
theme(plot.title = element_text(hjust = 0.5))
table |>
pivot_longer( #join columns
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Response_Type",
values_to = "Status"
) |>
filter(Status == TRUE) |> #count true values
#merge with as factor logic for timing
ggplot(aes(x = as.factor(calced_stim_duration_rounded), fill = Response_Type)) +
geom_bar(position = "stack") +
scale_fill_discrete(
labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)
) +
labs(
title = "Responses by Stimulus Duration",
x = "Duration (ms)",
y = "Count",
fill = "Response Type"
) +
theme_minimal()
table |>
pivot_longer( #join columns
cols = c(consistent_object, consistent_shadow, all_object, neither),
names_to = "Response_Type",
values_to = "Status"
) |>
filter(Status == TRUE) |> #count true values
#merge with as factor logic for timing
ggplot(aes(x = as.factor(calced_stim_duration_rounded), fill = Response_Type)) +
geom_bar(position = "stack") +
scale_fill_discrete(
labels = c(
"neither" = "Neither",
"all_object" = "Both",
"consistent_object" = "Object",
"consistent_shadow" = "Shadow"
)
) +
labs(
title = "Responses by Stimulus Duration",
x = "Duration (ms)",
y = "Count",
fill = "Category"
) +
theme_minimal()
